<script>
	document.addEventListener('DOMContentLoaded', function() {
	  // Get the author avatar element
	  const authorAvatar = document.querySelector('.author_avatar');
  
	  // Get the post author element
	  const postAuthor = document.querySelector('.post_author');
  
	  // Check if the elements exist
	  if (authorAvatar && postAuthor) {
		// Get the height of the author avatar
		const avatarHeight = authorAvatar.offsetHeight;
  
		// Set the min-height of the post author
		postAuthor.style.minHeight = (avatarHeight + 10) + 'px';
	  }
	});
  </script>
  
  <!--- Mechanika --->
  <script>
	document.addEventListener('DOMContentLoaded', function() {
	  const userStatsClickElements = document.querySelectorAll('.user_stats_click');
	  
	  userStatsClickElements.forEach(function(element) {
		element.addEventListener('click', function() {
		  const postElement = element.closest('.post');
		  const userStatsElement = postElement.querySelector('.user_stats');
		  
		  if (userStatsElement) {
			if (userStatsElement.classList.contains('visible')) {
			  // Closing
			  userStatsElement.classList.remove('visible');
			  userStatsElement.style.maxHeight = '0';
			  userStatsElement.style.opacity = '0';
			} else {
			  // Opening
			  userStatsElement.classList.add('visible');
			  userStatsElement.style.maxHeight = userStatsElement.scrollHeight + 'px';
			  userStatsElement.style.opacity = '1';
			}
		  } else {
			console.debug('No .user_stats element found');
		  }
		});
	  });
	});
  </script>
  
  
  
  <!-- post content -->
  {$ignore_bit}
  <a name="pid{$post['pid']}" id="pid{$post['pid']}"></a>
  
  <div class="post classic {$unapproved_shade}" style="{$post_visibility}" id="post_{$post['pid']}">
  <div class="character_nick"><center><strong><span>{$post['profilelink']}</span></strong></center></div>
  
  <div class="post_flexible">
  <div class="post_author scaleimages">
  {$post['useravatar']}<br/>
  </div>
  <div class="post_content">
	<div class="post_head">
	  {$post['posturl']}
	  {$post['icon']}
	  <span class="post_date"><i class="fa fa-clock-o"></i> {$post['postdate']} <span class="post_edit" id="edited_by_{$post['pid']}">{$post['editedmsg']}</span></span>
	{$post['subject_extra']}
	</div>
	<div class="post_inside">
	<div class="post_body scaleimages" id="pid_{$post['pid']}">
	  {$post['message']}
	</div>
	{$post['attachments']}
	<div class="post_meta" id="post_meta_{$post['pid']}">
	  {$post['iplogged']}
	</div>
	</div>
	{$post['signature']}
	  <div class="user_stats">{$post['fid1']} Tu będzie mechanika<br>Tu będzie mechanika<br>Tu będzie mechanika<br>Tu będzie mechanika<br>Tu będzie mechanika<br></div>
  </div>
  </div>
  <div class="post_controls">
	<div class="postbit_buttons author_buttons float_left">
		{$post['button_pm']}{$post['button_rep']}<a href="{$post['fid2']}"><i class="cp cp-feather" title="Korespondencja"></i></a><a href="{$post['fid3']}"><i class="cp cp-home" title="Miejsce zamieszkania"></i></a> <i class="cp cp-clover user_stats_click" title="Mechanika" id="mechanika"></i>
	</div>
	<div class="postbit_buttons post_management_buttons float_right">
	  {$post['button_warn']}{$post['button_quote']}{$post['button_multiquote']}{$post['button_report']}{$post['button_purgespammer']}{$post['button_reply_pm']}{$post['button_replyall_pm']}{$post['button_forward_pm']}{$post['button_delete_pm']}{$post['button_edit']}{$post['button_quickdelete']}{$post['button_quickrestore']}
	</div>
  </div>
  </div>